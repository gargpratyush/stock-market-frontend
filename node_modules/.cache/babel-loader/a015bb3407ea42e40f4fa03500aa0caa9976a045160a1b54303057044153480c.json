{"ast":null,"code":"import _slicedToArray from\"/Users/pratyushgarg/Downloads/Web Development/final-density/density-hack-an-intern-flexbox/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{ResponsiveLine}from'@nivo/line';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var MyResponsiveLine=function MyResponsiveLine(_ref){var data=_ref.data;return/*#__PURE__*/_jsx(ResponsiveLine,{style:{color:\"white\"},data:data,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:'point'},yScale:{type:'linear',min:'auto',max:'auto',stacked:true,reverse:false},yFormat:\" >-.2f\",axisTop:null,axisRight:null,axisBottom:{orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'transactions',legendOffset:36,legendPosition:'middle',textColor:'white',tickColor:'red'},axisLeft:{orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'market price',legendOffset:-40,legendPosition:'middle',textColor:'white'},theme:{axis:{legend:{text:{fill:\"#fff\"}},ticks:{line:{stroke:\"#fff\"},text:{fill:\"#fff\"}}}},pointSize:10,pointColor:{theme:'background'},pointBorderWidth:2,pointBorderColor:{from:'serieColor'},pointLabelYOffset:-12,useMesh:true,tooltip:function tooltip(_ref2){var point=_ref2.point;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'black',padding:'9px 12px',border:'1px solid #ccc'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Transaction Number: \",point.data.x]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Market Price: \",point.data.y]})]});}});};function PortfolioGraph(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactions=_useState2[0],setTransactions=_useState2[1];useEffect(function(){axios.get('/transaction/history').then(function(response){return setTransactions(response.data.map(function(obj){return{x:obj.transaction_id,y:obj.final_price};}));}).catch(function(error){return console.log(error);});},[]);return/*#__PURE__*/_jsx(MyResponsiveLine,{data:[{id:'market price',color:\"hsl(289, 70%, 50%)\",data:transactions}]});}export default PortfolioGraph;","map":{"version":3,"names":["React","useEffect","useState","ResponsiveLine","axios","MyResponsiveLine","data","color","top","right","bottom","left","type","min","max","stacked","reverse","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","textColor","tickColor","axis","text","fill","ticks","line","stroke","theme","from","point","background","padding","border","x","y","PortfolioGraph","transactions","setTransactions","get","then","response","map","obj","transaction_id","final_price","catch","error","console","log","id"],"sources":["/Users/pratyushgarg/Downloads/Web Development/final-density/density-hack-an-intern-flexbox/front-end/src/components/PortfolioPage/PortfolioGraph.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { ResponsiveLine } from '@nivo/line'\nimport axios from 'axios';\n\nconst MyResponsiveLine = ({ data /* see data tab */ }) => (\n  <ResponsiveLine\n    style={{color: \"white\"}}\n      data={data}\n      margin={{ top: 50, right: 110, bottom: 50, left: 60 }}\n      xScale={{ type: 'point' }}\n      yScale={{\n          type: 'linear',\n          min: 'auto',\n          max: 'auto',\n          stacked: true,\n          reverse: false\n      }}\n      yFormat=\" >-.2f\"\n      axisTop={null}\n      axisRight={null}\n      axisBottom={{\n          orient: 'bottom',\n          tickSize: 5,\n          tickPadding: 5,\n          tickRotation: 0,\n          legend: 'transactions',\n          legendOffset: 36,\n          legendPosition: 'middle',\n          textColor: 'white',\n          tickColor: 'red'\n      }}\n      axisLeft={{\n          orient: 'left',\n          tickSize: 5,\n          tickPadding: 5,\n          tickRotation: 0,\n          legend: 'market price',\n          legendOffset: -40,\n          legendPosition: 'middle',\n          textColor: 'white',\n      }}\n      theme={{ \n        axis: { \n          legend: { \n            text: { \n              fill: \"#fff\" \n            } \n          },\n          ticks: {\n            line: {\n              stroke: \"#fff\"\n            },\n            text: {\n              fill:\"#fff\"\n            }\n          },\n        } \n      }}\n\n      pointSize={10}\n      pointColor={{ theme: 'background' }}\n      pointBorderWidth={2}\n      pointBorderColor={{ from: 'serieColor' }}\n      pointLabelYOffset={-12}\n      useMesh={true}\n      tooltip={({ point }) => {\n        return (\n          <div\n              style={{\n                  background: 'black',\n                  padding: '9px 12px',\n                  border: '1px solid #ccc',\n              }}\n          >\n              <div>Transaction Number: {point.data.x}</div>\n              <div>Market Price: {point.data.y}</div>\n          </div>\n        )\n    }}\n  />\n)\n\nfunction PortfolioGraph() {\n  \n  const [transactions, setTransactions] = useState([]);\n\n  useEffect(() => {\n    axios.get('/transaction/history')\n      .then((response) => setTransactions(response.data.map((obj) => {\n        return {\n          x: obj.transaction_id,\n          y: obj.final_price\n        }\n      })))\n      .catch((error) => console.log(error))\n  }, [])\n    \n  return (\n    <MyResponsiveLine data={[{id: 'market price', color: \"hsl(289, 70%, 50%)\", data: transactions}]} />\n  )\n}\n\nexport default PortfolioGraph"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}